// @uppy/utils/lib/generateFileID@6.1.1 downloaded from https://ga.jspm.io/npm:@uppy/utils@6.1.1/lib/generateFileID.js

import e from"@uppy/utils/lib/getFileType";import"@uppy/utils/lib/getFileNameAndExtension";import"@uppy/utils/lib/mimeTypes";function encodeCharacter(e){return e.charCodeAt(0).toString(32)}function encodeFilename(e){let t="";return e.replace(/[^A-Z0-9]/gi,(e=>{t+=`-${encodeCharacter(e)}`;return"/"}))+t}function generateFileID(e,t){let a=t||"uppy";typeof e.name==="string"&&(a+=`-${encodeFilename(e.name.toLowerCase())}`);e.type!==void 0&&(a+=`-${e.type}`);e.meta&&typeof e.meta.relativePath==="string"&&(a+=`-${encodeFilename(e.meta.relativePath.toLowerCase())}`);e.data.size!==void 0&&(a+=`-${e.data.size}`);e.data.lastModified!==void 0&&(a+=`-${e.data.lastModified}`);return a}function hasFileStableId(e){if(!e.isRemote||!e.remote)return false;const t=new Set(["box","dropbox","drive","facebook","unsplash"]);return t.has(e.remote.provider)}function getSafeFileId(t,a){if(hasFileStableId(t))return t.id;const i=e(t);return generateFileID({...t,type:i},a)}export{generateFileID as default,getSafeFileId};

